<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>8. Bayesian Workflow • bage</title>
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="8. Bayesian Workflow">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bage</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/vig1_intro.html">1. Overview</a></li>
    <li><a class="dropdown-item" href="../articles/vig2_math.html">2. Mathematical Details</a></li>
    <li><a class="dropdown-item" href="../articles/vig3_priors.html">3. Priors</a></li>
    <li><a class="dropdown-item" href="../articles/vig4_svd.html">4. Singular Value Decomposition</a></li>
    <li><a class="dropdown-item" href="../articles/vig5_bdef.html">5. Examples from BDEF Book</a></li>
    <li><a class="dropdown-item" href="../articles/vig6_mortality.html">6. Modelling Mortality</a></li>
    <li><a class="dropdown-item" href="../articles/vig7_simulation.html">7. Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/vig8_workflow.html">8. Bayesian Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/vig9_covariates.html">9. Covariates</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bayesiandemography/bage/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>8. Bayesian Workflow</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bayesiandemography/bage/blob/main/vignettes/vig8_workflow.Rmd" class="external-link"><code>vignettes/vig8_workflow.Rmd</code></a></small>
      <div class="d-none name"><code>vig8_workflow.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bayesiandemography.github.io/bage/">bage</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: rvec</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'rvec'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     sd, var</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     rank</span></span></code></pre></div>
<div class="section level2">
<h2 id="prior-predictive-checking">Prior predictive checking<a class="anchor" aria-label="anchor" href="#prior-predictive-checking"></a>
</h2>
<ul>
<li>Given model, priors, and typically an exposure/size term, generate
data</li>
<li>Some parts of the data generating model would need stronger priors
than our standard estimation model - eg can’t put a weakly informative
prior on the intercept “It is common in Bayesian analysis to use models
that are not fully generative. For example, in regression we will
typically model an outcome y given predictors x without a generative
model for x.” (Gelman et al 2020: 11-12) [actually no model is ever
fully generative - there are always assumptions about some part of
it]</li>
<li>generating data given model and priors is step 1 of a simulation
study - we can re-use functions for prior predictive checking and
simulation studies</li>
</ul>
</div>
<div class="section level2">
<h2 id="fitting-a-model">Fitting a model<a class="anchor" aria-label="anchor" href="#fitting-a-model"></a>
</h2>
<p>“generic diagnostic tools described by Yao et al. (2018a) and Talts
et al. (2020) can be used to verify that a particular approximate
algorithm reproduces the features of the posterior that you care about
for a specific model.”Yao, Y., Vehtari, A., Simpson, D., and Gelman, A.
(2018a). Yes, but did it work?: Evaluating variational inference. In
Proceedings of International Conference on Machine Learning, 5581– 5590.
Talts, S., Betancourt, M., Simpson, D., Vehtari, A., and Gelman, A.
(2020). Validating Bayesian inference algorithms with simulation-based
calibration. www.stat.columbia.edu/~gelman/ research/unpublished/sbc.pdf
[this looks like something we might implement]</p>
<p>“a Laplace approximation can be viewed as a data-dependent
linearization of the desired model” (Gelman et al 2020: 15)</p>
<p>“Fit fast, fail fast” [we can do that!]</p>
</div>
<div class="section level2">
<h2 id="using-constructed-data-to-find-and-understand-problems">Using constructed data to find and understand problems<a class="anchor" aria-label="anchor" href="#using-constructed-data-to-find-and-understand-problems"></a>
</h2>
<p>“All this implies that fake data simulation can be particularly
relevant in the zone of the parameter space that is predictive of the
data. This in turn suggests a two-step procedure in which we first fit
the model to real data, then draw parameters from the resulting
posterior distribution to use in fake-data checking. The statistical
properties of such a procedure are unclear but in practice we have found
such checks to be helpful, both for revealing problems with the
computation or model, and for providing some reassurance when the
fake-data-based inferences do reproduce the assumed parameter value.”
(Gelman et al 2020: 17)</p>
</div>
<div class="section level2">
<h2 id="addressing-computational-problems">Addressing computational problems<a class="anchor" aria-label="anchor" href="#addressing-computational-problems"></a>
</h2>
<p>“Starting at simple and complex models and meeting in the middle”
(Gelman et al 2020: 22-23) - Easy with bage - eg number of terms,
complexity of priors</p>
</div>
<div class="section level2">
<h2 id="evaluating-and-using-a-fitted-model">Evaluating and using a fitted model<a class="anchor" aria-label="anchor" href="#evaluating-and-using-a-fitted-model"></a>
</h2>
<ul>
<li>bayesplot package has tools for posterior predictive checking [we
need to generate outputs that can be fed into these plots]</li>
</ul>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p><span class="citation">@article</span>{gelman2020bayesian,
title={Bayesian workflow}, author={Gelman, Andrew and Vehtari, Aki and
Simpson, Daniel and Margossian, Charles C and Carpenter, Bob and Yao,
Yuling and Kennedy, Lauren and Gabry, Jonah and B{"u}rkner,
Paul-Christian and Modr{'a}k, Martin}, journal={arXiv preprint
arXiv:2011.01808}, year={2020} }</p>
<p><span class="citation">@article</span>{van2021bayesian,
title={Bayesian statistics and modelling}, author={van de Schoot, Rens
and Depaoli, Sarah and King, Ruth and Kramer, Bianca and M{"a}rtens,
Kaspar and Tadesse, Mahlet G and Vannucci, Marina and Gelman, Andrew and
Veen, Duco and Willemsen, Joukje and others}, journal={Nature Reviews
Methods Primers}, volume={1}, number={1}, pages={1}, year={2021},
publisher={Nature Publishing Group UK London} }</p>
<p><a href="https://betanalpha.github.io/assets/case_studies/principled_bayesian_workflow.html" class="external-link uri">https://betanalpha.github.io/assets/case_studies/principled_bayesian_workflow.html</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by John Bryant, Junni Zhang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
