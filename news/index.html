<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • bage</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bage</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.10.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bayesiandemography/bage/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/bayesiandemography/bage/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.3" id="bage-0103">bage 0.10.3<a class="anchor" aria-label="anchor" href="#bage-0103"></a></h2>
<div class="section level3">
<h3 id="articles-0-10-3">Articles<a class="anchor" aria-label="anchor" href="#articles-0-10-3"></a></h3>
<ul><li>Tidying of package website</li>
<li>Tidying of description of data model in Mathematical Details article.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.2" id="bage-0102">bage 0.10.2<a class="anchor" aria-label="anchor" href="#bage-0102"></a></h2><p class="text-muted">CRAN release: 2025-11-19</p>
<div class="section level3">
<h3 id="bug-fix-0-10-2">Bug fix<a class="anchor" aria-label="anchor" href="#bug-fix-0-10-2"></a></h3>
<ul><li>A test was leaving a file behind in the R_USER_CACHE_DIR. Problem fixed.</li>
</ul></div>
<div class="section level3">
<h3 id="vignettes-0-10-2">vignettes<a class="anchor" aria-label="anchor" href="#vignettes-0-10-2"></a></h3>
<ul><li>Removed numbers from titles, and used pkgdown yaml, rather than numbers in front of files, to control the order of articles in the website.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.1" id="bage-0101">bage 0.10.1<a class="anchor" aria-label="anchor" href="#bage-0101"></a></h2><p class="text-muted">CRAN release: 2025-11-17</p>
<div class="section level3">
<h3 id="vignettes-0-10-1">vignettes<a class="anchor" aria-label="anchor" href="#vignettes-0-10-1"></a></h3>
<ul><li>All but the first vignette have been changed to ‘articles’, so that they appear on the pkgdown-derived website on GitHub, but are not part of the package itself. Rebuilding the vignettes was taking too long, and checking times were exceeding CRAN limits.</li>
</ul></div>
<div class="section level3">
<h3 id="datasets-0-10-1">datasets<a class="anchor" aria-label="anchor" href="#datasets-0-10-1"></a></h3>
<ul><li>Fixed bug in <code>prt_deaths</code> where deaths and population datasets had not merged properly.</li>
<li>Fixed bug in <code>usa_deaths</code>, where the deaths column had class <code>"ts"</code> rather than <code>"numeric"</code>.</li>
<li>Added a `datasets’ overview page.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.0" id="bage-0100">bage 0.10.0<a class="anchor" aria-label="anchor" href="#bage-0100"></a></h2>
<div class="section level3">
<h3 id="extending-facilities-for-scaled-svd-priors-0-10-0">Extending facilities for scaled SVD priors<a class="anchor" aria-label="anchor" href="#extending-facilities-for-scaled-svd-priors-0-10-0"></a></h3>
<ul><li>Added new scaled SVDs <code>CSA</code>, <code>HIMD_R</code>, <code>HIMD_P1</code>, <code>HIMD_P5</code>, <code>WMD_C</code>, <code>WMD_E</code>, for use in modeling school attendance, internal migration, and marriage. Also added help page for all scaled SVDs.</li>
<li>Function <code><a href="../reference/ssvd.html">ssvd()</a></code>, for creating scaled SVDs is now exported. (Previously it was an internal function.)</li>
<li>Version information has been added to scaled SVDs. Functions for creating SVD-based priors, such as [SVD()] and [SVD_AR()] now include an argument <code>v</code> that can be used to specify a version.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-interface-0-10-0">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-10-0"></a></h3>
<ul><li>
<code><a href="https://generics.r-lib.org/reference/generate.html" class="external-link">generate()</a></code> method for scaled SVDs now use the term <code>sex</code> rather than<code>sexgender</code> in results, for consistency with <code><a href="https://generics.r-lib.org/reference/components.html" class="external-link">components()</a></code>.</li>
<li>
<code><a href="https://generics.r-lib.org/reference/generate.html" class="external-link">generate()</a></code> and <code><a href="https://generics.r-lib.org/reference/components.html" class="external-link">components()</a></code> methods for scaled SVDs now default to showing results disaggregated by sex/gender. Previously the default was to show results for the total population.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.10" id="bage-0910">bage 0.9.10<a class="anchor" aria-label="anchor" href="#bage-0910"></a></h2>
<div class="section level3">
<h3 id="changes-to-internal-calculations-0-9-10">Changes to internal calculations<a class="anchor" aria-label="anchor" href="#changes-to-internal-calculations-0-9-10"></a></h3>
<ul><li>Covariates (as created by <code><a href="../reference/set_covariates.html">set_covariates()</a></code> now use sparse rather than dense matrices, which has significantly speeded up computations, and reduced memory usage, for models with categorical covariates.</li>
<li>Internal calculations for post-processing results from TMB have been refactored to speed them up, and reduce memory usage. (More outputs are built piece-by-piece rather than in one go.) Some large models now run significantly faster, and models that previously could not be fitted because of memory limitations now can.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.9" id="bage-099">bage 0.9.9<a class="anchor" aria-label="anchor" href="#bage-099"></a></h2>
<div class="section level3">
<h3 id="changes-to-model-behavior-0-9-9">Changes to model behavior<a class="anchor" aria-label="anchor" href="#changes-to-model-behavior-0-9-9"></a></h3>
<ul><li>Up to version 0.9.8, <code><a href="https://generics.r-lib.org/reference/fit.html" class="external-link">fit()</a></code> silently aggregated rows with duplicated values for the predictors (ie the variables to the right side of the <code>~</code> in the model formula. From 0.9.9 this aggregation only occurs with Poisson models where dispersion has been set to 0, or with Normal models. Even in these cases, aggregation no longer happens if the model includes a data model. In cases where aggregation would previously have occurred, <code><a href="https://generics.r-lib.org/reference/fit.html" class="external-link">fit()</a></code> warns users about the behavior change. Thank you to Salah Merad for pointing out that the aggregation was leading to unexpected results.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-interface-0-9-9">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-9-9"></a></h3>
<ul><li>The <code>"inner-outer"</code> fitting method can now be used with models that include covariates.</li>
<li>A function called <code><a href="../reference/dispersion.html">dispersion()</a></code> has been added, which returns prior or posterior values of the <code>disp</code> parameters. (Previously the only ways to obtain values of <code>disp</code> was to use function <code><a href="https://generics.r-lib.org/reference/components.html" class="external-link">components()</a></code>.)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.8" id="bage-098">bage 0.9.8<a class="anchor" aria-label="anchor" href="#bage-098"></a></h2><p class="text-muted">CRAN release: 2025-10-16</p>
<div class="section level3">
<h3 id="changes-to-internal-calculations-0-9-8">Changes to internal calculations<a class="anchor" aria-label="anchor" href="#changes-to-internal-calculations-0-9-8"></a></h3>
<ul><li>The update of the TMB to version 1.9.18 appears to have changed outputs, which caused a test involving replicate data to fail. The test has been make more robust, by generating more draws.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-9-8">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-8"></a></h3>
<ul><li>Function <code><a href="../reference/unfit.html">unfit()</a></code> was not previously removing information on the <code>"inner-outer"</code> fitting method, making it appear that a model had been fit using this method, when it had in fact been re-fit using the standard method. This has been corrected.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.7" id="bage-097">bage 0.9.7<a class="anchor" aria-label="anchor" href="#bage-097"></a></h2><p class="text-muted">CRAN release: 2025-10-07</p>
<div class="section level3">
<h3 id="changes-to-internal-calculations-0-9-7">Changes to internal calculations<a class="anchor" aria-label="anchor" href="#changes-to-internal-calculations-0-9-7"></a></h3>
<ul><li>The process for carrying out the Cholesky factorization and then drawing from the multivariate normal has been made more robust. When carrying out the Cholesky decomposition, small values are added to the diagonal at each failure, up to a limit that can be controlled by the user. Fallbacks (eg to using dense matrix calculations) have also been added to the function for generating multiple draws.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.6" id="bage-096">bage 0.9.6<a class="anchor" aria-label="anchor" href="#bage-096"></a></h2><p class="text-muted">CRAN release: 2025-10-01</p>
<div class="section level3">
<h3 id="data-models-0-9-6">Data models<a class="anchor" aria-label="anchor" href="#data-models-0-9-6"></a></h3>
<ul><li>Added data models, also known as measurement error models. The main user-visible functions are <code><a href="../reference/set_datamod_exposure.html">set_datamod_exposure()</a></code>, <code><a href="../reference/set_datamod_miscount.html">set_datamod_miscount()</a></code>, <code><a href="../reference/set_datamod_noise.html">set_datamod_noise()</a></code>, <code>set_datamod_over()</code>, and <code>set_datamod_under()</code>. In introduction to data models is given in vignette 10.</li>
</ul></div>
<div class="section level3">
<h3 id="interface-0-9-6">Interface<a class="anchor" aria-label="anchor" href="#interface-0-9-6"></a></h3>
<ul><li>Extra checking of inputs for model constructor functions, eg checking that factors have at least two levels.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-internal-calculations-0-9-6">Changes to internal calculations<a class="anchor" aria-label="anchor" href="#changes-to-internal-calculations-0-9-6"></a></h3>
<ul><li>Improved efficiency of some C++ code in the TMB template, through greater use of call by reference.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.5" id="bage-095">bage 0.9.5<a class="anchor" aria-label="anchor" href="#bage-095"></a></h2>
<div class="section level3">
<h3 id="interface-0-9-5">Interface<a class="anchor" aria-label="anchor" href="#interface-0-9-5"></a></h3>
<ul><li>Added method <code><a href="https://bayesiandemography.github.io/rvec/reference/n_draw.html" class="external-link">n_draw()</a></code> for querying the <code>n_draw</code> value of a model object.</li>
<li>Deprecated the use of formulas for specifying exposure, size, or weights. Formulas complicate measurement error models and forecasts. Formulas will be completely removed in future.</li>
<li>In <code><a href="../reference/replicate_data.html">replicate_data()</a></code>, changed the default for <code>condition_on</code> to <code>"fitted"</code> in cases where dispersion is zero, since the <code>"expected"</code> option is not permitted in these cases.</li>
<li>Extra checking of inputs for model constructor functions, eg checking that factors have at least two levels.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-9-5">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-9-5"></a></h3>
<ul><li>Extended documentation of <code><a href="../reference/Lin.html">Lin()</a></code> prior in Mathematical Details vignette, and on online help, to describe case where <code>s = 0</code>. Also updated description of prior in online help to match current implementation.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-9-5">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-5"></a></h3>
<ul><li>Fixed bug in RR3, where values for rates were being calculated from confidentialized values of the outcome variable, rather than (imputed) true values.</li>
<li>Fixed bug in aggregation of exposure for Poisson where <code>exposure =   1</code>, and aggregation of weights in normal models where <code>weights = 1</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.4" id="bage-094">bage 0.9.4<a class="anchor" aria-label="anchor" href="#bage-094"></a></h2><p class="text-muted">CRAN release: 2025-07-20</p>
<div class="section level3">
<h3 id="interface-0-9-4">Interface<a class="anchor" aria-label="anchor" href="#interface-0-9-4"></a></h3>
<ul><li>Modified help for <code><a href="../reference/mod_pois.html">mod_pois()</a></code>, <code><a href="../reference/mod_binom.html">mod_binom()</a></code>, <code><a href="../reference/mod_norm.html">mod_norm()</a></code> to clarify prior for dispersion. Added default value (of 1) to <code><a href="../reference/set_disp.html">set_disp()</a></code>. This does not affect behaviour, but is a bit clearer for users. (<a href="https://github.com/bayesiandemography/bage/issues/94" class="external-link">#94</a>)</li>
<li>In <code><a href="../reference/set_covariates.html">set_covariates()</a></code>, added paragraph in online documentation to note that calling <code><a href="../reference/set_covariates.html">set_covariates()</a></code> on a model that already has covariates deletes the existing covariates. Also added a warning message to <code><a href="../reference/set_covariates.html">set_covariates()</a></code> when covariates being overwritten. (<a href="https://github.com/bayesiandemography/bage/issues/95" class="external-link">#95</a>).</li>
<li>
<code><a href="../reference/mod_pois.html">mod_pois()</a></code> emits message (not warning) if one or more rates are suspiciously high (which is often a sympton of inaccurate exposures.) (<a href="https://github.com/bayesiandemography/bage/issues/96" class="external-link">#96</a>)</li>
<li>Added a guarded version of <code><a href="https://bayesiandemography.github.io/rvec/reference/dpois_rvec.html" class="external-link">rpois_rvec()</a></code>, which sets x[i] equal to lambda[i] for lambda[i] &gt; 1e8. This avoids numeric problems which can lead to valgrind errors. The guarded version is called by <code><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment()</a></code> and by <code><a href="../reference/replicate_data.html">replicate_data()</a></code>. The user is warned when the threshold of 1e8 is exceeded.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fix-0-9-4">Bug fix<a class="anchor" aria-label="anchor" href="#bug-fix-0-9-4"></a></h3>
<ul><li>Fixed bug in <code><a href="../reference/set_n_draw.html">set_n_draw()</a></code>, which was failing to thin covariate coefficient draws. (<a href="https://github.com/bayesiandemography/bage/issues/97" class="external-link">#97</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.3" id="bage-093">bage 0.9.3<a class="anchor" aria-label="anchor" href="#bage-093"></a></h2>
<div class="section level3">
<h3 id="interface-0-9-3">Interface<a class="anchor" aria-label="anchor" href="#interface-0-9-3"></a></h3>
<ul><li>In the online help for <code><a href="../reference/mod_norm.html">mod_norm()</a></code> and in the Mathematical Details vignette (vignette 2), give a new parameterisation of the <code><a href="../reference/mod_norm.html">mod_norm()</a></code> model, expressed on the original scale, not the transformed scale (and closer to the paramterisation used by <code><a href="../reference/mod_pois.html">mod_pois()</a></code> and <code><a href="../reference/mod_binom.html">mod_binom()</a></code>.)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fix-0-9-3">Bug fix<a class="anchor" aria-label="anchor" href="#bug-fix-0-9-3"></a></h3>
<ul><li>Modify the <code>bage_mod_norm</code> method for <code><a href="../reference/replicate_data.html">replicate_data()</a></code> so that it returns results on the original scale.</li>
<li>Modify the <code>bage_mod_norm</code> methods for the helper functions for <code><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment()</a></code> so that they properly incorporate weights.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.2" id="bage-092">bage 0.9.2<a class="anchor" aria-label="anchor" href="#bage-092"></a></h2>
<div class="section level3">
<h3 id="interface-0-9-2">Interface<a class="anchor" aria-label="anchor" href="#interface-0-9-2"></a></h3>
<ul><li>Added <code>original_scale</code> argument to <code><a href="https://generics.r-lib.org/reference/components.html" class="external-link">components()</a></code>, to be used with normal models. Also added message remining users that, with normal models, components were on a log scale (<a href="https://github.com/bayesiandemography/bage/issues/88" class="external-link">#88</a>)</li>
<li>Added more information on progress.</li>
<li>Tidied printing of model objects.</li>
<li>Added new checks for outcome variable: no <code>NaN</code> and no <code>Inf</code> permitted.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-9-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-2"></a></h3>
<ul><li>Fixed bug introducted when <code>fit_default()</code> refactored in 0.9.1. Bug meant that when optimizer switched from <code><a href="https://rdrr.io/r/stats/nlminb.html" class="external-link">nlminb()</a></code> to <code><a href="https://rdrr.io/r/stats/optim.html" class="external-link">optim()</a></code> on non-convergence, <code><a href="https://rdrr.io/r/stats/optim.html" class="external-link">optim()</a></code> was not starting from old parameter values.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-9-2">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-9-2"></a></h3>
<ul><li>Added entry for <code><a href="../reference/RW2_Infant.html">RW2_Infant()</a></code> to priors table. Hat-tip to Luke Morris for noticing that entry was missing. (<a href="https://github.com/bayesiandemography/bage/issues/87" class="external-link">#87</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.1" id="bage-091">bage 0.9.1<a class="anchor" aria-label="anchor" href="#bage-091"></a></h2>
<div class="section level3">
<h3 id="changes-to-interface-0-9-1">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-9-1"></a></h3>
<ul><li>Added function <code><a href="../reference/set_covariates.html">set_covariates()</a></code>. Models can now include covariates. Covariates are predictors other than the cross-classifying dimensions such as age, sex, or time – though covariates can be formed from these dimensions.</li>
<li>Added variables <code>gdp_pc_2023</code> and <code>dens_2020</code> to dataset <code>kor_births</code>.</li>
<li>Added <code>prt_deaths</code> dataset.</li>
<li>Added <code><a href="../reference/set_seeds.html">set_seeds()</a></code> function, allowing users to reset random seeds (though this would be uncommon in normal use.)</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-documentation-0-9-1">Changes to documentation<a class="anchor" aria-label="anchor" href="#changes-to-documentation-0-9-1"></a></h3>
<ul><li>Added covariates vignette.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-internal-calculations-0-9-1">Changes to internal calculations<a class="anchor" aria-label="anchor" href="#changes-to-internal-calculations-0-9-1"></a></h3>
<ul><li>More careful handling of <code>NA</code>s in offset and predictor variables.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.0" id="bage-090">bage 0.9.0<a class="anchor" aria-label="anchor" href="#bage-090"></a></h2><p class="text-muted">CRAN release: 2025-01-08</p>
<ul><li>From 0.9.0 onwards we will use a formal deprecation make any breaking changes</li>
<li>Tweaks to printing of <code>"bage_mod"</code> objects</li>
<li>Started vignette replicating analyses from the book <em>Bayesian Demographic Estimation and Forecasting</em>
</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.6" id="bage-086">bage 0.8.6<a class="anchor" aria-label="anchor" href="#bage-086"></a></h2>
<div class="section level3">
<h3 id="changes-to-interface-0-8-6">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-8-6"></a></h3>
<ul><li>Added <code>"multi"</code> option for <code>optimizer</code> argument to <code><a href="https://generics.r-lib.org/reference/fit.html" class="external-link">fit()</a></code>. With <code>"multi"</code>, the <code><a href="https://generics.r-lib.org/reference/fit.html" class="external-link">fit()</a></code> function first tries <code><a href="https://rdrr.io/r/stats/nlminb.html" class="external-link">nlminb()</a></code> and if that fails switches to <code><a href="https://rdrr.io/r/stats/optim.html" class="external-link">optim()</a></code> with method <code>"BFGS"</code>.</li>
<li>Added a warning if the calculations do not converge</li>
<li>Modified the printout for <code>"bage_mod"</code> objects to show the time spent by <code><a href="https://rdrr.io/pkg/TMB/man/sdreport.html" class="external-link">TMB::sdreport</a></code> rather than the time spent by drawing from the multivariate normal (which, since <strong>bage</strong> started using <strong>sparseMVN</strong>, is very short).</li>
<li>Finished vignette 1.</li>
<li>Added covariates</li>
<li>Added <code>gdp_pc_2023</code> and <code>dens_2020</code> variables to <code>kor_births</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.5" id="bage-085">bage 0.8.5<a class="anchor" aria-label="anchor" href="#bage-085"></a></h2>
<div class="section level3">
<h3 id="changes-to-internal-calculations-0-8-5">Changes to internal calculations<a class="anchor" aria-label="anchor" href="#changes-to-internal-calculations-0-8-5"></a></h3>
<ul><li>
<code><a href="../reference/report_sim.html">report_sim()</a></code> excludes comparisons of <code>"hyper"</code> parameters (eg standard deviations) if the simulation model and estimation model use different priors with different classes for that term. For instance if the simulation model uses a <code><a href="../reference/RW.html">RW()</a></code> prior for age and the estimation model uses a <code><a href="../reference/RW2.html">RW2()</a></code> prior for age, then <code><a href="../reference/report_sim.html">report_sim()</a></code> will not report on the standard deviation parameter for age.</li>
<li>Added warning to documentation for <code><a href="../reference/report_sim.html">report_sim()</a></code> stating that the interface is still under development.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.4" id="bage-084">bage 0.8.4<a class="anchor" aria-label="anchor" href="#bage-084"></a></h2>
<div class="section level3">
<h3 id="changes-to-interface-0-8-4">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-8-4"></a></h3>
<ul><li>Changed <code>zero_sum</code> argument to <code>con</code> (short for “constraint”). <code>con   = "none"</code> corresponds to <code>zero_sum = FALSE</code>, and <code>con = "by"</code> corresponds to <code>zero_sum = TRUE</code>. Additional options will be added in future.</li>
<li>Added <code>sd</code> argument to <code><a href="../reference/RW.html">RW()</a></code>, <code><a href="../reference/RW2.html">RW2()</a></code>, <code><a href="../reference/SVD_AR.html">SVD_RW()</a></code> and <code><a href="../reference/SVD_AR.html">SVD_RW2()</a></code>. The initial value of the random walks are drawn from a <code>N(0, sd^2)</code> prior. By default <code>sd</code> equals <code>1</code>, but it can be set to
<ol start="0" style="list-style-type: decimal"><li>
</li></ol></li>
<li>Loosened restrictions in <code><a href="../reference/AR.html">AR()</a></code> and <code><a href="../reference/Lin_AR.html">Lin_AR()</a></code> priors so that the coefficients no longer need to be consistent with stationarity. The Stan user guide recommends against building in stationarity: <a href="https://mc-stan.org/docs/stan-users-guide/time-series.html#autoregressive.section" class="external-link uri">https://mc-stan.org/docs/stan-users-guide/time-series.html#autoregressive.section</a> Also, testing for stationarity often causes numerical problems.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.3" id="bage-083">bage 0.8.3<a class="anchor" aria-label="anchor" href="#bage-083"></a></h2>
<div class="section level3">
<h3 id="changes-to-internal-calculations-0-8-3">Changes to internal calculations<a class="anchor" aria-label="anchor" href="#changes-to-internal-calculations-0-8-3"></a></h3>
<ul><li>Corrected bug in forecasting of <code><a href="../reference/AR.html">AR()</a></code> and <code><a href="../reference/Lin_AR.html">Lin_AR()</a></code> priors.</li>
<li>Modified prior for coefficients of <code><a href="../reference/AR.html">AR()</a></code> and <code><a href="../reference/Lin_AR.html">Lin_AR()</a></code> priors, so that partical autocorrelation function (PACF), rather than the AR coefficients themselves, are restricted to (-1, 1). Restricting the PACF to (-1,1) ensures stationarity.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.2" id="bage-082">bage 0.8.2<a class="anchor" aria-label="anchor" href="#bage-082"></a></h2>
<div class="section level3">
<h3 id="changes-to-interface-0-8-2">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-8-2"></a></h3>
<ul><li>Check to see that model object was created using current version of ‘bage’.</li>
<li>Added <code>optimizer</code> argument to <code><a href="https://generics.r-lib.org/reference/fit.html" class="external-link">fit()</a></code>, giving choice between three ways of optimizing</li>
<li>Modifed behaviour of <code>quiet</code> argument to <code><a href="https://generics.r-lib.org/reference/fit.html" class="external-link">fit()</a></code> so that when it is <code>TRUE</code>, trace output from the optimizer is shown.</li>
<li>Added <code>start_oldpar</code> argument to <code><a href="https://generics.r-lib.org/reference/fit.html" class="external-link">fit()</a></code>, to allow calculations to be restarted on a model that has already been fitted.</li>
<li>Modified printing of <code>"bage_mod"</code> object.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.1" id="bage-081">bage 0.8.1<a class="anchor" aria-label="anchor" href="#bage-081"></a></h2>
<div class="section level3">
<h3 id="changes-to-interface-0-8-1">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-8-1"></a></h3>
<ul><li>Modified construction of <code>computations</code> part of models so that it works with models fitted using the “inner-outer” method. Extended the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method for <code>"bage_mod"</code> so that it shows extra output for models fitted using the <code>"inner-outer"</code> method.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.0" id="bage-080">bage 0.8.0<a class="anchor" aria-label="anchor" href="#bage-080"></a></h2>
<div class="section level3">
<h3 id="changes-to-interface-0-8-0">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-8-0"></a></h3>
<ul><li>Added ‘along’ column to tidy and print methods for <code>"bage_mod"</code> objects. (Thank you to Andrew Taylor for suggesting this.)</li>
<li>Allow <code>s = 0</code> in <code><a href="../reference/Lin.html">Lin()</a></code> priors</li>
<li>Added <code>zero_sum</code> argument to priors with an <code>along</code> dimension. When <code>zero_sum</code> is <code>TRUE</code>, values for each combination of a <code>by</code> variable and the <code>along</code> variable are constrained to sum to zero. This can allow better identification of higher-level terms in complicated models. It can also slow computations, and has virtually no effect on estimates of the lowest-level rates, probabilities, and means.</li>
<li>Removed post-estimation standardization. We now rely on explicit constraints instead to give interpretable values for main effects and interactions.</li>
<li>Added <code><a href="../reference/RW2_Infant.html">RW2_Infant()</a></code> prior for modelling age-patterns of mortality rates.</li>
<li>The <code>s_seas</code> parameter in <code><a href="../reference/RW_Seas.html">RW_Seas()</a></code> and <code><a href="../reference/RW2_Seas.html">RW2_Seas()</a></code> now defaults to 0, rather than 1, so that seasonal effects are by default fixed over time rather than varying. Using varying seasonal effects can greatly increase computation times.</li>
<li>Moved <strong>rvec</strong> from Imports to Depends, so that it loads when <strong>bage</strong> is loaded. Manipulating results from <strong>bage</strong> models without <strong>rvec</strong> loaded can lead to strange errors.</li>
<li>Added information on computations to printout from fitted model objects.</li>
<li>Added function <code><a href="../reference/computations.html">computations()</a></code>, which can be used to extract this information from fitted model objects.</li>
<li>Added <code>quiet</code> argument to <code><a href="https://generics.r-lib.org/reference/fit.html" class="external-link">fit()</a></code>. When <code>quiet</code> is <code>TRUE</code> (the default), warnings generated by <code><a href="https://rdrr.io/r/stats/nlminb.html" class="external-link">nlminb()</a></code> are suppressed. (These warnings are virtually always about NAs early in the optimization process and are nothing to worry about.)</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-internal-calculations-0-8-0">Changes to internal calculations<a class="anchor" aria-label="anchor" href="#changes-to-internal-calculations-0-8-0"></a></h3>
<ul><li>Removed some unnecessary coercion of sparse matrices to dense matrices (which could sometimes cause memory problems)</li>
<li>Added extra constraints to some priors - eg the first element of random walks is now zero. This often (but not always) helps make raw estimates of main effects and interactions more interpretable, and can speed up computations slightly.</li>
<li>In the normal model, we now rescale the weights so that they have a mean of 1. This allows us to use the same default prior for dispersion (an exponential prior with mean 1), regardless of the original weights. The rescaling of the weights affects the estimated value for dispersion, but does not affect the estimates for any other parameters.</li>
<li>Generation of posterior sample now using fast methods from package <strong>sparseMVN</strong> where possible.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.8" id="bage-078">bage 0.7.8<a class="anchor" aria-label="anchor" href="#bage-078"></a></h2>
<div class="section level3">
<h3 id="datasets-0-7-8">Datasets<a class="anchor" aria-label="anchor" href="#datasets-0-7-8"></a></h3>
<ul><li>Added <code>HFD</code>, a scaled SVD object holding data from the Human Fertiltiy Database</li>
<li>Changed names of data objects:
<ul><li>
<code>deaths</code> –&gt; <code>isl_deaths</code>
</li>
<li>
<code>expenditure</code> –&gt; <code>nld_expenditure</code>
</li>
<li>
<code>divorces</code> –&gt; <code>nzl_divorces</code>
</li>
<li>
<code>injuries</code> –&gt; <code>nzl_injuries</code>
</li>
<li>
<code>us_acc_deaths</code> –&gt; <code>usa_deaths</code>
</li>
</ul></li>
<li>Added new data object <code>kor_births</code>, births in South Korea</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.7" id="bage-077">bage 0.7.7<a class="anchor" aria-label="anchor" href="#bage-077"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-7-7">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-7"></a></h3>
<ul><li>
<code><a href="../reference/report_sim.html">report_sim()</a></code> now works on fitted models. Thank you to Ollie Pike for pointing out that it previously did not.</li>
<li>Removed redundant levels from <code>age</code> variable in <code>divorces</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-internal-calculations-0-7-7">Changes to internal calculations<a class="anchor" aria-label="anchor" href="#changes-to-internal-calculations-0-7-7"></a></h3>
<ul><li>Removed internal <strong>bage</strong> function <code><a href="https://bayesiandemography.github.io/poputils/reference/rr3.html" class="external-link">rr3()</a></code>. Call <strong>poputils</strong> function <code><a href="https://bayesiandemography.github.io/poputils/reference/rr3.html" class="external-link">rr3()</a></code> instead.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.6" id="bage-076">bage 0.7.6<a class="anchor" aria-label="anchor" href="#bage-076"></a></h2>
<div class="section level3">
<h3 id="changes-to-interface-0-7-6">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-7-6"></a></h3>
<ul><li>Added <code>newdata</code> argument to <code><a href="https://generics.r-lib.org/reference/forecast.html" class="external-link">forecast()</a></code>.</li>
<li>Added minimum version numbers for <strong>rvec</strong> and <strong>poputils</strong>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.5.1" id="bage-0751">bage 0.7.5.1<a class="anchor" aria-label="anchor" href="#bage-0751"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-7-5-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-5-1"></a></h3>
<ul><li>Fixed bug in code for simulating from <code><a href="../reference/Lin.html">Lin()</a></code> and <code><a href="../reference/Lin_AR.html">Lin_AR()</a></code> priors.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.5" id="bage-075">bage 0.7.5<a class="anchor" aria-label="anchor" href="#bage-075"></a></h2>
<div class="section level3">
<h3 id="changes-to-interface-0-7-5">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-7-5"></a></h3>
<ul><li>Added arguments <code>method</code> and <code>vars_inner</code> to <code><a href="https://generics.r-lib.org/reference/fit.html" class="external-link">fit()</a></code>. When <code>method</code> is <code>"standard"</code> (the default) <code><a href="https://generics.r-lib.org/reference/fit.html" class="external-link">fit()</a></code> uses the existing calculation methods. When <code>method</code> is <code>"inner-outer"</code>, <code><a href="https://generics.r-lib.org/reference/fit.html" class="external-link">fit()</a></code> uses a new, somewhat experimental calculation method that involves fitting an inner model using a subset of variables, and then an outer model using the remaining variables. With big datasets, <code>"inner-outer"</code> can be faster, and use less memory, but give very similar results.</li>
<li>Added information on numbers of parameters, and standard deviations to output for print. Thank you to Duncan Elliot for suggesting printing numbers of parameters.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-calculations-0-7-5">Changes to calculations<a class="anchor" aria-label="anchor" href="#changes-to-calculations-0-7-5"></a></h3>
<ul><li>
<code><a href="https://generics.r-lib.org/reference/fit.html" class="external-link">fit()</a></code> now internally aggregates input data before fitting, so that cells with the same combinations of predictor variables are combined. This increases speed and reduces memory usage.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-documentation-0-7-5">Changes to documentation<a class="anchor" aria-label="anchor" href="#changes-to-documentation-0-7-5"></a></h3>
<ul><li>Added help for <code>print.bage_mod</code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.4" id="bage-074">bage 0.7.4<a class="anchor" aria-label="anchor" href="#bage-074"></a></h2><p class="text-muted">CRAN release: 2024-08-28</p>
<div class="section level3">
<h3 id="changes-to-interface-0-7-4">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-7-4"></a></h3>
<ul><li>Function <code><a href="../reference/ssvd.html">ssvd()</a></code> no longer exported. Will export once package <strong>bssvd</strong> matures.</li>
<li>
<strong>bage</strong> released on to CRAN</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.3" id="bage-073">bage 0.7.3<a class="anchor" aria-label="anchor" href="#bage-073"></a></h2>
<div class="section level3">
<h3 id="changes-to-data-and-examples-0-7-3">Changes to data and examples<a class="anchor" aria-label="anchor" href="#changes-to-data-and-examples-0-7-3"></a></h3>
<ul><li>Modified example for <code><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment()</a></code> so it runs faster</li>
<li>Reduced size of <code>divorces</code> dataset</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.2" id="bage-072">bage 0.7.2<a class="anchor" aria-label="anchor" href="#bage-072"></a></h2>
<div class="section level3">
<h3 id="changes-to-interface-0-7-2">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-7-2"></a></h3>
<ul><li>Added first data model. New function is <code><a href="../reference/set_datamod_outcome_rr3.html">set_datamod_outcome_rr3()</a></code>, which deals with the case where the outcome variable has been randomly rounded to base 3.</li>
<li>
<code><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment()</a></code> now creates a new version of the outcome variable if (i) the outcome variable has <code>NA</code>s, or (ii) a data model is being applied to the outcome variable. The name of the new variable is created by added a <code>.</code> to the start of the name of the outcome variable.</li>
<li>A help page summarising available data models</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.1" id="bage-071">bage 0.7.1<a class="anchor" aria-label="anchor" href="#bage-071"></a></h2>
<div class="section level3">
<h3 id="changes-to-interface-0-7-1">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-7-1"></a></h3>
<ul><li>There are now three choices for the <code>standardization</code> argument: <code>"terms"</code>, <code>"anova"</code>, and <code>"none"</code>. With <code>"terms"</code>, all effects, plus assoicated SVD coefficients, and trend, cyclical, and seasonal terms, are centered independently. With <code>"anova"</code>, the type of standardization descibed in Section 15.6 of Gelman et al (2014) Bayesian Data Analysis, is applied to the effects.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.0" id="bage-070">bage 0.7.0<a class="anchor" aria-label="anchor" href="#bage-070"></a></h2>
<div class="section level3">
<h3 id="changes-to-calculations-0-7-0">Changes to calculations<a class="anchor" aria-label="anchor" href="#changes-to-calculations-0-7-0"></a></h3>
<ul><li>Further simplification of standardization, but likely in future to split into two types of standardization: one that gives an ANOVA-style decomposition of effects, and one that helps with understanding the dynamics of each term.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-infrastructure-0-7-0">Changes to infrastructure<a class="anchor" aria-label="anchor" href="#changes-to-infrastructure-0-7-0"></a></h3>
<ul><li>Added Makevars file.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-documentation-0-7-0">Changes to documentation<a class="anchor" aria-label="anchor" href="#changes-to-documentation-0-7-0"></a></h3>
<ul><li>Stopped referring to second-order walks as equivalent to random walks with drift. (A second-order random walk differs from a random walk in that the implied drift term in a second-order random walk can vary over time.)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.3" id="bage-063">bage 0.6.3<a class="anchor" aria-label="anchor" href="#bage-063"></a></h2>
<div class="section level3">
<h3 id="changes-to-calculations-0-6-3">Changes to calculations<a class="anchor" aria-label="anchor" href="#changes-to-calculations-0-6-3"></a></h3>
<ul><li>Changed standardization of forecasts so that forecasts are standardized along the ‘along’ dimension by choosing the values that makes them consistent with time trends in the estimation period, and then standardizing within each value of the along dimensions.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.2" id="bage-062">bage 0.6.2<a class="anchor" aria-label="anchor" href="#bage-062"></a></h2>
<div class="section level3">
<h3 id="changes-to-interface-0-6-2">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-6-2"></a></h3>
<ul><li>Removed <code>SVDS()</code>, <code>SVDS_AR()</code>, <code>SVDS_AR1()</code>, <code>SVDS_RW()</code>, and <code>SVDS_RW2()</code> priors. Added <code>indep</code> argument to corresponding <code>SVD</code> priors. <code>SVD</code> priors now choose between ‘total’, ‘independent’ and ‘joint’ models based on (1) the value of <code>indep</code> argument, (2) the value of <code>var_sexgender</code> and the name of the term.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-data-0-6-2">Changes to data<a class="anchor" aria-label="anchor" href="#changes-to-data-0-6-2"></a></h3>
<ul><li>Object <code>HMD</code> now contains 5 components, rather than 10.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.1" id="bage-061">bage 0.6.1<a class="anchor" aria-label="anchor" href="#bage-061"></a></h2>
<div class="section level3">
<h3 id="changes-to-calculations-0-6-1">Changes to calculations<a class="anchor" aria-label="anchor" href="#changes-to-calculations-0-6-1"></a></h3>
<ul><li>Fixed problems with standardization of forecast</li>
<li>Added an intercept term to <code><a href="../reference/Lin.html">Lin()</a></code> and <code>LinAR()</code> priors</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="bage-060">bage 0.6.0<a class="anchor" aria-label="anchor" href="#bage-060"></a></h2>
<div class="section level3">
<h3 id="issues-0-6-0">Issues<a class="anchor" aria-label="anchor" href="#issues-0-6-0"></a></h3>
<ul><li>Standardization of forecasts not working correctly.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-interface-0-6-0">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-6-0"></a></h3>
<ul><li>Added priors <code><a href="../reference/SVD_AR.html">SVD_AR()</a></code>, <code>SVDS_AR()</code>, <code><a href="../reference/SVD_AR.html">SVD_AR1()</a></code>, <code>SVDS_AR1()</code>, <code><a href="../reference/SVD_AR.html">SVD_RW()</a></code>, <code>SVDS_RW()</code>, <code><a href="../reference/SVD_AR.html">SVD_RW2()</a></code>, <code>SVDS_RW2()</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="internal-calculations-0-6-0">Internal calculations<a class="anchor" aria-label="anchor" href="#internal-calculations-0-6-0"></a></h3>
<ul><li>Changed values that are stored in object: removed <code>draws_linpred</code>, added <code>draws_effectfree</code>, <code>draws_spline</code>, and <code>draws_svd</code>. Modified/added downstream functions.</li>
<li>Calculation of ‘along_by’ and ‘agesex’ matrices pushed downwards into lower-level functions.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.1" id="bage-051">bage 0.5.1<a class="anchor" aria-label="anchor" href="#bage-051"></a></h2>
<div class="section level3">
<h3 id="changes-to-interface-0-5-1">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-5-1"></a></h3>
<ul><li>Moved HMD code to package <strong>bssvd</strong>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="bage-050">bage 0.5.0<a class="anchor" aria-label="anchor" href="#bage-050"></a></h2>
<div class="section level3">
<h3 id="changes-to-interface-0-5-0">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-5-0"></a></h3>
<ul><li>Combined interaction (eg ELin) and main effect (eg Lin) versions of priors</li>
<li>Removed function <code>compose_time()</code>
</li>
<li>Added priors RWSeas and RW2Seas</li>
<li>Improved <code><a href="../reference/report_sim.html">report_sim()</a></code>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.2" id="bage-042">bage 0.4.2<a class="anchor" aria-label="anchor" href="#bage-042"></a></h2>
<div class="section level3">
<h3 id="changes-to-interface-0-4-2">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-4-2"></a></h3>
<ul><li>Tidying of online help (not yet complete).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.1" id="bage-041">bage 0.4.1<a class="anchor" aria-label="anchor" href="#bage-041"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-4-1">New functions<a class="anchor" aria-label="anchor" href="#new-functions-0-4-1"></a></h3>
<ul><li>Added ‘bage_ssvd’ method for <code><a href="https://generics.r-lib.org/reference/components.html" class="external-link">components()</a></code>.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-to-interface-0-4-1">Changes to interface<a class="anchor" aria-label="anchor" href="#changes-to-interface-0-4-1"></a></h3>
<ul><li>
<code><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment()</a></code> method for <code>bage_mod</code> objects now calculated value for <code>.fitted</code> in cases where the outcome or exposure/size is NA, rather than setting the value of <code>.fitted</code> to <code>NA</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="internal-calculations-0-4-1">Internal calculations<a class="anchor" aria-label="anchor" href="#internal-calculations-0-4-1"></a></h3>
<ul><li>Standardization of effects only done if <code><a href="https://generics.r-lib.org/reference/components.html" class="external-link">components()</a></code> is called. <code><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment()</a></code> uses the linear predictor (which does not need standardization.)</li>
<li>Internally, draws for the linear predictor, the hyper-parameters and (if included in model) <code>disp</code> are stored, rather than the full standardized components.</li>
<li>Standardization algorithm repeats up to 100 times, or until all residuals are less than 0.0001.</li>
<li>With the new configuration, calculations for large matrices that previously failed with error message “Internal error: Final residual not 0” are now running.</li>
</ul></div>
<div class="section level3">
<h3 id="simulations-0-4-1">Simulations<a class="anchor" aria-label="anchor" href="#simulations-0-4-1"></a></h3>
<ul><li>When drawing from the prior, the intercept is always set to 0. Terms with SVD or Known priors are not touched. All other terms are centered.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="bage-040">bage 0.4.0<a class="anchor" aria-label="anchor" href="#bage-040"></a></h2>
<div class="section level3">
<h3 id="changes-to-back-end-for-svd-priors-0-4-0">Changes to back-end for SVD priors<a class="anchor" aria-label="anchor" href="#changes-to-back-end-for-svd-priors-0-4-0"></a></h3>
<ul><li>Move most functions for creating ‘bage_ssvd’ objects to package ‘bssvd’.</li>
<li>Allowed number of components of a ‘bage_ssvd’ object to differ from
<ol start="10" style="list-style-type: decimal"><li>
</li></ol></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-4-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-0"></a></h3>
<ul><li>Corrected error in calculation of logit in <code>ssvd_comp()</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.2" id="bage-032">bage 0.3.2<a class="anchor" aria-label="anchor" href="#bage-032"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-3-2">New functions<a class="anchor" aria-label="anchor" href="#new-functions-0-3-2"></a></h3>
<ul><li>
<code><a href="../reference/forecast.bage_mod.html">forecast.bage_mod()</a></code> Forecasting. Interface not yet finalised.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-3-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3-2"></a></h3>
<ul><li>Corrected error in C++ template for Lin and ELin priors (due to use of integer arithmetic.)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.2" id="bage-022">bage 0.2.2<a class="anchor" aria-label="anchor" href="#bage-022"></a></h2>
<div class="section level3">
<h3 id="new-functions-0-2-2">New functions<a class="anchor" aria-label="anchor" href="#new-functions-0-2-2"></a></h3>
<ul><li>
<code><a href="../reference/generate.bage_ssvd.html">generate.bage_ssvd()</a></code> Generate random age-sex profiles from SVD.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-2-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-2-2"></a></h3>
<ul><li>Internal function <code>draw_vals_effect_mod()</code> was malfunctioning on models that contained SVD priors.</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by John Bryant, Junni Zhang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

