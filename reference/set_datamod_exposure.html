<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Specify Exposure Data Model — set_datamod_exposure • bage</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Specify Exposure Data Model — set_datamod_exposure"><meta name="description" content="Specify a data model for the exposure
variable in a Poisson model. The data model assumes
that, within each cell, observed exposure is drawn
from an Inverse-Gamma distribution. In this model,
E[ expected exposure | true exposure ] = true exposure
and
sd[ expected exposure | true exposure ] = cv \(\times\) true exposure
where cv is a coefficient of variation parameter."><meta property="og:description" content="Specify a data model for the exposure
variable in a Poisson model. The data model assumes
that, within each cell, observed exposure is drawn
from an Inverse-Gamma distribution. In this model,
E[ expected exposure | true exposure ] = true exposure
and
sd[ expected exposure | true exposure ] = cv \(\times\) true exposure
where cv is a coefficient of variation parameter."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bage</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.10.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/vig01_intro.html">1. Overview</a></li>
    <li><a class="dropdown-item" href="../articles/vig02_math.html">2. Mathematical Details</a></li>
    <li><a class="dropdown-item" href="../articles/vig03_priors.html">3. Priors</a></li>
    <li><a class="dropdown-item" href="../articles/vig04_svd.html">4. Singular Value Decomposition</a></li>
    <li><a class="dropdown-item" href="../articles/vig05_bdef.html">5. Examples from BDEF Book</a></li>
    <li><a class="dropdown-item" href="../articles/vig06_mortality.html">6. Modelling Mortality</a></li>
    <li><a class="dropdown-item" href="../articles/vig07_simulation.html">7. Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/vig08_workflow.html">8. Bayesian Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/vig09_covariates.html">9. Covariates</a></li>
    <li><a class="dropdown-item" href="../articles/vig10_datamod.html">10. Data Models</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bayesiandemography/bage/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Specify Exposure Data Model</h1>
      <small class="dont-index">Source: <a href="https://github.com/bayesiandemography/bage/blob/main/R/bage_mod-functions.R" class="external-link"><code>R/bage_mod-functions.R</code></a></small>
      <div class="d-none name"><code>set_datamod_exposure.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Specify a data model for the exposure
variable in a Poisson model. The data model assumes
that, within each cell, observed exposure is drawn
from an Inverse-Gamma distribution. In this model,</p>
<p>E[ expected exposure | true exposure ] = true exposure</p>
<p>and</p>
<p>sd[ expected exposure | true exposure ] = <code>cv</code> \(\times\) true exposure</p>
<p>where <code>cv</code> is a coefficient of variation parameter.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_datamod_exposure</span><span class="op">(</span><span class="va">mod</span>, <span class="va">cv</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-mod">mod<a class="anchor" aria-label="anchor" href="#arg-mod"></a></dt>
<dd><p>An object of class <code>"bage_mod_pois"</code>,
created with <code><a href="mod_pois.html">mod_pois()</a></code>.</p></dd>


<dt id="arg-cv">cv<a class="anchor" aria-label="anchor" href="#arg-cv"></a></dt>
<dd><p>Coefficient of variation
for measurement errors in exposure.
A single number, or a data frame
with a variable called <code>"cv"</code>
and one or more 'by' variables.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A revised version of <code>mod</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In the exposure data model, <code>cv</code>, the coefficient
of variation, does not depend on
true exposure. This implies that
errors do not fall, in relative terms,
as population rises. Unlike sampling errors,
measurement errors do not get averaged away
in large populations.</p>
<p>The exposure data model assumes that the exposure variable
is unbiased. If there is in fact evidence
of biases, then this evidence should be
used to create a de-biased version of the
variable (eg one where estimated biases
have been subtracted) to supply to
<code><a href="mod_pois.html">mod_pois()</a></code>.</p>
<p><code>set_datamod_exposure()</code> can only be used
with a Poisson model for rates in which
the dispersion in the rates has been set to zero.
The dispersion in the rates can be set
explicitly to zero using <code><a href="set_disp.html">set_disp()</a></code>,
though <code>set_datamod_exposure()</code> will also
do so.</p>
    </div>
    <div class="section level2">
    <h2 id="the-cv-argument">The <code>cv</code> argument<a class="anchor" aria-label="anchor" href="#the-cv-argument"></a></h2>



<p><code>cv</code> can be a single number, in which
case the same value is used for all cells.
<code>cv</code> can also be a data frame with a
with a variable called <code>"cv"</code> and
one or more columns with 'by' variables.
For instance, a  <code>cv</code> of</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">sex =</span> <span class="fu">c</span>(<span class="st">"Female"</span>, <span class="st">"Male"</span>),</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>           <span class="at">cv =</span> <span class="fu">c</span>(<span class="fl">0.01</span>, <span class="fl">0.012</span>))</span></code></pre><p></p></div>
<p>implies that the coefficient of variation
is 0.01 for females and 0.012 for males.</p>
<p>See below for an example where the coefficient
of variation is based on aggregated age groups.</p>
    </div>
    <div class="section level2">
    <h2 id="mathematical-details">Mathematical details<a class="anchor" aria-label="anchor" href="#mathematical-details"></a></h2>



<p>The model for observed exposure is</p>
<p>$$w_i^{\text{obs}} \sim \text{InvGamma}(2 + d_{g \lbrack i \rbrack }^{-1}, (1 + d_{g \lbrack i\rbrack }^{-1}) w_i^{\text{true}})$$</p>
<p>where</p><ul><li><p>\(w_i^{\text{obs}}\) is observed exposure for cell \(i\)
(the <code>exposure</code> argument to <code><a href="mod_pois.html">mod_pois()</a></code>);</p></li>
<li><p>\(w_i^{\text{true}}\) is true exposure for cell \(i\); and</p></li>
<li><p>\(d_{g\lbrack i\rbrack }\) is the value for dispersion
that is applied to cell \(i\).</p></li>
</ul><p><code>cv</code> is \(\sqrt{d_g}\).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="mod_pois.html">mod_pois()</a></code> Specify a Poisson model</p></li>
<li><p><code><a href="set_disp.html">set_disp()</a></code> Specify dispersion of rates</p></li>
<li><p><code><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment()</a></code> Original data plus estimated values,
including estimates of true value for exposure</p></li>
<li><p><a href="datamods.html">datamods</a> Data models implemented in <code>bage</code></p></li>
<li><p><a href="confidential.html">confidential</a> Confidentialization
procedures modeled in <code>bage</code></p></li>
<li><p><a href="https://bayesiandemography.github.io/bage/articles/vig02_math.html">Mathematical Details</a>
vignette</p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## specify model</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="mod_pois.html">mod_pois</a></span><span class="op">(</span><span class="va">injuries</span> <span class="op">~</span> <span class="va">age</span> <span class="op">*</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">year</span>,</span></span>
<span class="r-in"><span>                data <span class="op">=</span> <span class="va">nzl_injuries</span>,</span></span>
<span class="r-in"><span>                exposure <span class="op">=</span> <span class="va">popn</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="set_disp.html">set_disp</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">set_datamod_exposure</span><span class="op">(</span>cv <span class="op">=</span> <span class="fl">0.025</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## fit the model</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://generics.r-lib.org/reference/fit.html" class="external-link">fit</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Building log-posterior function...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Finding maximum...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Drawing values for hyper-parameters...</span>
<span class="r-in"><span><span class="va">mod</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ------ Fitted Poisson model ------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    injuries ~ age * sex + year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  exposure: popn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                data model: exposure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         term  prior along n_par n_par_free std_dev</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  (Intercept) NFix()     -     1          1       -</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          age   RW()   age    12         12    0.71</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          sex NFix()     -     2          2    0.11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         year   RW()  year    19         19    0.09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      age:sex   RW()   age    24         24    0.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  n_draw var_time var_age var_sexgender optimizer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1000     year     age           sex    nlminb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  time_total time_max time_draw iter converged                    message</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        0.47     0.21      0.23   12      TRUE   relative convergence (4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## examine results - note the new variable</span></span></span>
<span class="r-in"><span><span class="co">## '.popn' with estimates of the true</span></span></span>
<span class="r-in"><span><span class="co">## population</span></span></span>
<span class="r-in"><span><span class="va">aug</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://generics.r-lib.org/reference/augment.html" class="external-link">augment</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Adding variable `.popn` with true values for `popn`.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## allow different cv's for each sex</span></span></span>
<span class="r-in"><span><span class="va">cv_sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Female"</span>, <span class="st">"Male"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     cv <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.03</span>, <span class="fl">0.02</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">set_datamod_exposure</span><span class="op">(</span>cv <span class="op">=</span> <span class="va">cv_sex</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> → Replacing existing <span style="color: #0000BB;">"exposure"</span> data model with new <span style="color: #0000BB;">"exposure"</span> data model</span>
<span class="r-in"><span><span class="va">mod</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ------ Unfitted Poisson model ------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    injuries ~ age * sex + year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  exposure: popn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                data model: exposure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         term  prior along n_par n_par_free</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  (Intercept) NFix()     -     1          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          age   RW()   age    12         12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          sex NFix()     -     2          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         year   RW()  year    19         19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      age:sex   RW()   age    24         24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  n_draw var_time var_age var_sexgender optimizer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1000     year     age           sex    nlminb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## our outcome variable is confidentialized,</span></span></span>
<span class="r-in"><span><span class="co">## so we recognize that in the model too</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="va">mod</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="set_confidential_rr3.html">set_confidential_rr3</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ------ Unfitted Poisson model ------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    injuries ~ age * sex + year</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  exposure: popn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                data model: exposure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       confidentialization: rr3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         term  prior along n_par n_par_free</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  (Intercept) NFix()     -     1          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          age   RW()   age    12         12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          sex NFix()     -     2          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         year   RW()  year    19         19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      age:sex   RW()   age    24         24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  n_draw var_time var_age var_sexgender optimizer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1000     year     age           sex    nlminb</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## now a model where everyone aged 0-49</span></span></span>
<span class="r-in"><span><span class="co">## receives one value for cv, and</span></span></span>
<span class="r-in"><span><span class="co">## everyone aged 50+ receives another</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bayesiandemography.github.io/poputils/" class="external-link">poputils</a></span><span class="op">)</span> <span class="co">## for 'age_upper()'</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">nzl_injuries_age</span> <span class="op">&lt;-</span> <span class="va">nzl_injuries</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>age_group <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="fu"><a href="https://bayesiandemography.github.io/poputils/reference/age_lower.html" class="external-link">age_upper</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>                             <span class="st">"0-49"</span>,</span></span>
<span class="r-in"><span>                             <span class="st">"50+"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cv_age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>age_group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0-49"</span>, <span class="st">"50+"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     cv <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.01</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="mod_pois.html">mod_pois</a></span><span class="op">(</span><span class="va">injuries</span> <span class="op">~</span> <span class="va">age</span> <span class="op">*</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">year</span>,</span></span>
<span class="r-in"><span>                data <span class="op">=</span> <span class="va">nzl_injuries_age</span>,</span></span>
<span class="r-in"><span>                exposure <span class="op">=</span> <span class="va">popn</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="set_disp.html">set_disp</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">set_datamod_exposure</span><span class="op">(</span>cv <span class="op">=</span> <span class="va">cv_age</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by John Bryant, Junni Zhang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

